{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"/workspace/Estudos-react-native/src/pages/Listas/index.jsx\",\n    _templateObject,\n    _templateObject2;\n\nimport React, { useState, useEffect } from 'react';\nimport { SwipeListView } from 'react-native-swipe-list-view';\nimport styled from 'styled-components/native';\nimport uuid from 'uuid/v4';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport lista from \"./assets/listaScrol\";\nimport ListItem from \"./components/ListaItem\";\nimport ListaItemSwipe from \"./components/ListaItemSwipe\";\nimport AddItemArea2 from \"./components/AddItemArea2\";\nimport Modal from \"./components/Modal\";\nexport default function Lista() {\n  var _this = this;\n\n  var _useState = useState(lista),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalTitle = _useState4[0],\n      setModalTitle = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      modalVisible = _useState6[0],\n      setModalVisible = _useState6[1];\n\n  var addNewItem = function addNewItem(txt) {\n    var newItems = _toConsumableArray(items);\n\n    newItems.push({\n      id: uuid(),\n      task: txt,\n      done: false\n    });\n    setItems(newItems);\n  };\n\n  var toggleDone = function toggleDone(index) {\n    var newItems = _toConsumableArray(items);\n\n    newItems[index].done = !newItems[index].done;\n    setItems(newItems);\n  };\n\n  var deleteItem = function deleteItem(index) {\n    var newItems;\n    return _regeneratorRuntime.async(function deleteItem$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            newItems = _toConsumableArray(items);\n            newItems = newItems.filter(function (it, newIndex) {\n              return newIndex != index;\n            });\n            setItems(newItems);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getItems = function getItems() {\n    var itemsSaved, parsed;\n    return _regeneratorRuntime.async(function getItems$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@items'));\n\n          case 3:\n            itemsSaved = _context2.sent;\n            parsed = JSON.parse(itemsSaved);\n            setItems(parsed);\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            alert(_context2.t0);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var saveItems = function saveItems() {\n    var newItems, storage;\n    return _regeneratorRuntime.async(function saveItems$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            newItems = _toConsumableArray(items);\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('@items', JSON.stringify(newItems)));\n\n          case 3:\n            storage = _context3.sent;\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleShowModal = function handleShowModal() {\n    setModalTitle(\"Titulo aberto\");\n    setModalVisible(true);\n  };\n\n  useEffect(function () {\n    getItems();\n  }, []);\n  return React.createElement(Page, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, React.createElement(Modal, {\n    title: modalTitle,\n    visible: modalVisible,\n    visibleAction: setModalVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, React.createElement(Button, {\n    title: \"Salvar\",\n    onPress: saveItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  })), React.createElement(AddItemArea2, {\n    onAdd: addNewItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    title: \"Salvar\",\n    onPress: saveItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    title: \"Mostrar Modal\",\n    onPress: handleShowModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), React.createElement(SwipeListView, {\n    data: items,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item,\n          index = _ref.index;\n      return React.createElement(ListItem, {\n        onPress: function onPress() {\n          return toggleDone(index);\n        },\n        data: item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 42\n        }\n      });\n    },\n    renderHiddenItem: function renderHiddenItem(_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n      return React.createElement(ListaItemSwipe, {\n        onDelete: function onDelete() {\n          return deleteItem(index);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 48\n        }\n      });\n    },\n    leftOpenValue: 50,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    disableLeftSwipe: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }));\n}\nvar Page = styled.SafeAreaView(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n\"])));\nvar Button = styled.Button(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  width: 100%;\\n  margin: 30px 20px 30px;\\n\"])));","map":{"version":3,"sources":["/workspace/Estudos-react-native/src/pages/Listas/index.jsx"],"names":["React","useState","useEffect","SwipeListView","styled","uuid","AsyncStorage","lista","ListItem","ListaItemSwipe","AddItemArea2","Modal","Lista","items","setItems","modalTitle","setModalTitle","modalVisible","setModalVisible","addNewItem","txt","newItems","push","id","task","done","toggleDone","index","deleteItem","filter","it","newIndex","getItems","getItem","itemsSaved","parsed","JSON","parse","alert","saveItems","setItem","stringify","storage","handleShowModal","item","Page","SafeAreaView","Button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { SwipeListView } from 'react-native-swipe-list-view'\nimport styled from 'styled-components/native'\nimport uuid from 'uuid/v4'\nimport AsyncStorage from '@react-native-community/async-storage'\n\nimport lista from './assets/listaScrol'\nimport ListItem from './components/ListaItem'\nimport ListaItemSwipe from './components/ListaItemSwipe'\nimport AddItemArea2 from './components/AddItemArea2'\nimport Modal from './components/Modal'\n\nexport default function Lista() {\n  const [items, setItems] = useState(lista)\n  const [modalTitle, setModalTitle] = useState('')\n  const [modalVisible, setModalVisible] = useState(false)\n\n  const addNewItem = (txt) => {\n    let newItems = [...items]\n    newItems.push({\n      id: uuid(),\n      task: txt,\n      done: false\n    })\n    setItems(newItems)\n  }\n\n  const toggleDone = (index) => {\n    let newItems = [...items]\n    newItems[index].done = !newItems[index].done\n    setItems(newItems)\n  }\n\n  const deleteItem = async (index) => {\n    let newItems = [...items]\n    newItems = newItems.filter((it, newIndex) => newIndex != index)\n    setItems(newItems)\n  }\n\n  const getItems = async () => {\n    try {\n      const itemsSaved = await AsyncStorage.getItem('@items')\n      const parsed = JSON.parse(itemsSaved)\n      setItems(parsed)\n    } catch (error) {\n      alert(error)\n    }\n  }\n\n  const saveItems = async () => {\n    let newItems = [...items]\n    const storage = await AsyncStorage.setItem('@items', JSON.stringify(newItems))\n  }\n\n  const handleShowModal = () => {\n    setModalTitle(\"Titulo aberto\")\n    setModalVisible(true)\n  }\n\n\n  useEffect(() => {\n    getItems()\n  }, [])\n\n  return (\n    <Page>\n      <Modal\n        title={modalTitle}\n        visible={modalVisible}\n        visibleAction={setModalVisible}\n      >\n        <Button title=\"Salvar\" onPress={saveItems} />\n      </Modal>\n      <AddItemArea2 onAdd={addNewItem} />\n      <Button title=\"Salvar\" onPress={saveItems} />\n      <Button title=\"Mostrar Modal\" onPress={handleShowModal} />\n      <SwipeListView\n        data={items}\n        renderItem={({ item, index }) => <ListItem onPress={() => toggleDone(index)} data={item} />}\n        renderHiddenItem={({ item, index }) => <ListaItemSwipe onDelete={() => deleteItem(index)} />}\n        leftOpenValue={50}\n        keyExtractor={(item) => item.id}\n        disableLeftSwipe={true}\n      // rightOpenValue={-50}\n      />\n    </Page>\n  )\n}\n\nconst Page = styled.SafeAreaView`\n  flex: 1;\n`\n\nconst Button = styled.Button`\n  width: 100%;\n  margin: 30px 20px 30px;\n`\n"]},"metadata":{},"sourceType":"module"}